<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Funny pictures</title>
    <link rel="stylesheet" href="thirdparty/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="css/funny-pictures.css">
    <script src="thirdparty/js/angular.js"></script>
    <script src="thirdparty/js/angular-resource.js"></script>
    <script src="thirdparty/js/angular-route.js"></script>
    <script src="thirdparty/js/ui-bootstrap-angular-0.11.0.js"></script>
    <script src="thirdparty/js/jquery-2.1.1.js"></script>
    <script src="js/main.js"></script>
</head>


<body ng-app="mainModule">
<header></header>
<div class="container" role="main" ng-controller="MainController">
    <div class="row">
        <div class="page-header">
            <h1>Create your picture</h1>
        </div>

        <div class="col-lg-7">
            <img class="img-thumbnail" id="large-image" alt="200x200"
                 ng-src="{{imagePreview.url}}">

            <form name="funnyText" class="input-form">
                <div class="form-group">
                    <input type="text" placeholder="Text above" name="headerText" ng-model="headerText"
                           class="form-control" required/>
                </div>
                <div class="form-group">
                    <input type="text" placeholder="Text below" name="footerText" ng-model="footerText"
                           class="form-control" required/>
                </div>
                <div ng-show="funnyText.headerText.$dirty|| funnyText.footerText.$invalid">
                    <span ng-show="funnyText.headerText.$error.required || funnyText.footerText.$error.required">Fill header and footer text.</span>
                </div>
                <button ng-click="createPicture()" class="btn btn-lg btn-success">Create
                    a picture
                </button>
            </form>
        </div>
        <div class="col-lg-5">
            <div class="col-lg-12">
                <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}
                </alert>
                <div class="row" style="text-align: center; ">
                    <div class="row" ng-repeat="picture in pictures track by $index"
                         ng-if="$index%2==0">

                        <div class="col-md-6" ng-repeat="i in [$index,$index+1]"
                             ng-if="pictures[i]!=null">
                            <a ng-click="changeMainPicture(pictures[i].id)" class="thumbnail"> <img
                                    ng-src="{{pictures[i].url}}">{{pictures[i].name}}
                            </a>
                        </div>
                    </div>
                    <pagination total-items="totalItems" ng-model="currentPage" items-per-page="itemsPerPage"
                                ng-change="pageChanged()" ng-show="showPagination()"></pagination>
                </div>
            </div>
        </div>
        
    </div>
    <div class="row">
        <img class="img-thumbnail" id="large-image" 
                 ng-src="{{generatedImage.url}}">
        </div>
</div>

<footer></footer>
</body>
</html>